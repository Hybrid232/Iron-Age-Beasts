[gd_scene load_steps=14 format=3 uid="uid://b83raa0sufs4v"]

[ext_resource type="Texture2D" uid="uid://djpktvepla7xq" path="res://sprites/background/test background.jpg" id="1_gtqar"]
[ext_resource type="Texture2D" uid="uid://c7kqv4j25x0ms" path="res://sprites/test/dino enemy.png" id="2_0vdwb"]
[ext_resource type="PackedScene" uid="uid://d38cvt67w5bgb" path="res://scene/Player/Player.tscn" id="3_04lnv"]
[ext_resource type="Script" uid="uid://ds0gpdaxyuvpe" path="res://scene/scripts/Player Scripts/UI.cs" id="4_qdpo3"]
[ext_resource type="Texture2D" uid="uid://brhqgehvt7ib0" path="res://sprites/test/dino-miniboss.png" id="5_0vdwb"]
[ext_resource type="PackedScene" uid="uid://bbg6o4s7g1g0m" path="res://scene/enemy/Boss Healthbar.tscn" id="5_04lnv"]
[ext_resource type="PackedScene" uid="uid://djokcwtj4qkek" path="res://scene/enemy/Dilophosaurus.tscn" id="7_qdpo3"]
[ext_resource type="Script" uid="uid://dt62qwb6ahakj" path="res://scene/scripts/NPC Scripts/NPC.cs" id="8_78shh"]
[ext_resource type="Texture2D" uid="uid://bsunr61kjpenk" path="res://sprites/test/NPC_boogins.jpg" id="9_q0frb"]

[sub_resource type="GDScript" id="GDScript_0d08p"]
script/source = "extends Node2D


# Called when the node enters the scene tree for the first time.
func _ready() -> void:
	pass # Replace with function body.


# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(delta: float) -> void:
	pass
"

[sub_resource type="PlaceholderTexture2D" id="PlaceholderTexture2D_go75h"]
size = Vector2(300, 20)

[sub_resource type="PlaceholderTexture2D" id="PlaceholderTexture2D_qdpo3"]

[sub_resource type="CircleShape2D" id="CircleShape2D_6pjo8"]

[node name="TestWorld" type="Node2D"]
script = SubResource("GDScript_0d08p")

[node name="TestBackground" type="Sprite2D" parent="."]
position = Vector2(600, 320)
texture = ExtResource("1_gtqar")

[node name="DinoEnemy" type="Sprite2D" parent="."]
visible = false
z_index = 1
position = Vector2(694.00006, 439)
scale = Vector2(0.1, 0.1)
texture = ExtResource("2_0vdwb")

[node name="Player" parent="." node_paths=PackedStringArray("uiReference", "bulletBars") instance=ExtResource("3_04lnv")]
z_index = 1
position = Vector2(555, 383)
disable_mode = 1
uiReference = NodePath("../HUD")
exhaustedSpeedMultiplier = 0.4
dodgeSpeed = 300
attackRange = 30.0
staminaCost = 20
staminaBuffer = 5
bulletBars = [NodePath("../HUD/BulletBar0"), NodePath("../HUD/BulletBar1"), NodePath("../HUD/BulletBar2")]

[node name="Camera2D" type="Camera2D" parent="Player"]
visible = false
position = Vector2(0, -2)
zoom = Vector2(2, 2)
limit_left = 30
limit_top = 30
limit_right = 1175
limit_bottom = 615
limit_smoothed = true
position_smoothing_enabled = true

[node name="HUD" type="CanvasLayer" parent="." node_paths=PackedStringArray("healthBar", "staminaBar")]
layer = 2
visible = false
script = ExtResource("4_qdpo3")
healthBar = NodePath("PlayerHealthBar")
staminaBar = NodePath("PlayerStaminaBar")

[node name="BossHealthbar" parent="HUD" instance=ExtResource("5_04lnv")]
visible = false
offset_left = 13.0
offset_top = -9.0
offset_right = 13.0
offset_bottom = -9.0

[node name="BulletBar0" type="ProgressBar" parent="HUD"]
offset_left = 25.0
offset_top = 55.0
offset_right = 73.0
offset_bottom = 82.0
value = 100.0

[node name="BulletBar1" type="ProgressBar" parent="HUD"]
offset_left = 81.0
offset_top = 55.0
offset_right = 129.0
offset_bottom = 82.0
value = 100.0

[node name="BulletBar2" type="ProgressBar" parent="HUD"]
offset_left = 137.0
offset_top = 55.0
offset_right = 185.0
offset_bottom = 82.0
value = 100.0

[node name="PlayerHealthBar" type="TextureProgressBar" parent="HUD"]
offset_left = 24.0
offset_top = 16.0
offset_right = 324.0
offset_bottom = 36.0
scale = Vector2(1.3583134, 0.6549496)
value = 100.0
texture_progress = SubResource("PlaceholderTexture2D_go75h")
tint_progress = Color(1, 0, 0, 1)

[node name="PlayerStaminaBar" type="TextureProgressBar" parent="HUD"]
offset_left = 24.000002
offset_top = 29.000002
offset_right = 324.0
offset_bottom = 50.0
scale = Vector2(1.0028015, 0.75226456)
value = 100.0
texture_under = SubResource("PlaceholderTexture2D_qdpo3")
texture_progress = SubResource("PlaceholderTexture2D_go75h")
tint_under = Color(0.33617434, 0.55851936, 3.85046e-07, 1)
tint_progress = Color(0.23137255, 0.5058824, 0.19607843, 1)

[node name="DinoMiniboss" type="Sprite2D" parent="."]
visible = false
position = Vector2(525, 192)
scale = Vector2(-0.51688313, 0.40375453)
texture = ExtResource("5_0vdwb")

[node name="Dilophosaurus" parent="." instance=ExtResource("7_qdpo3")]
visible = false
position = Vector2(417, 408)
_currentHealth = 0

[node name="Dilophosaurus2" parent="." instance=ExtResource("7_qdpo3")]
visible = false
position = Vector2(877, 206)
_currentHealth = 0

[node name="Dilophosaurus3" parent="." instance=ExtResource("7_qdpo3")]
visible = false
position = Vector2(389, 74)
_currentHealth = 0

[node name="NPC" type="Node2D" parent="." node_paths=PackedStringArray("_menu", "_dialogueLabel")]
position = Vector2(1000, 450)
scale = Vector2(0.1, 0.1)
script = ExtResource("8_78shh")
_menu = NodePath("CanvasLayer/Panel")
_dialogueLabel = NodePath("CanvasLayer/Panel/DialogueLabel")

[node name="Sprite2D" type="Sprite2D" parent="NPC"]
texture = ExtResource("9_q0frb")

[node name="Area2D" type="Area2D" parent="NPC"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="NPC/Area2D"]
scale = Vector2(70, 70)
shape = SubResource("CircleShape2D_6pjo8")

[node name="CanvasLayer" type="CanvasLayer" parent="NPC"]

[node name="Panel" type="Panel" parent="NPC/CanvasLayer"]
offset_left = 53.0
offset_top = 37.0
offset_right = 1137.0
offset_bottom = 395.0

[node name="DialogueLabel" type="Label" parent="NPC/CanvasLayer/Panel"]
layout_mode = 0
offset_left = 25.0
offset_top = 25.0
offset_right = 65.0
offset_bottom = 48.0

[node name="SpeakButton" type="Button" parent="NPC/CanvasLayer/Panel"]
layout_mode = 0
offset_left = 22.0
offset_top = 285.0
offset_right = 96.0
offset_bottom = 328.0
text = "Talk"

[node name="PurchaseButton" type="Button" parent="NPC/CanvasLayer/Panel"]
layout_mode = 0
offset_left = 109.0
offset_top = 285.0
offset_right = 208.0
offset_bottom = 329.0
text = "Purchase"

[connection signal="body_entered" from="NPC/Area2D" to="NPC" method="OnAreaBodyEntered"]
[connection signal="body_exited" from="NPC/Area2D" to="NPC" method="OnAreaBodyExited"]
[connection signal="pressed" from="NPC/CanvasLayer/Panel/SpeakButton" to="NPC" method="OnSpeakPressed"]
[connection signal="pressed" from="NPC/CanvasLayer/Panel/PurchaseButton" to="NPC" method="OnPurchasePressed"]
